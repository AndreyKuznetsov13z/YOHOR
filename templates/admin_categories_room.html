{% extends "base.html" %}

{% block title %}–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∫–≤–∞—Ä—Ç–∏—Ä - YOHOR SHOP{% endblock %}

{% block content %}
<h1>üìÇ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∫–≤–∞—Ä—Ç–∏—Ä</h1>

<div class="card" style="margin: 20px 0; background: #e8f4f8;">
    <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
    <form method="POST" action="{{ url_for('add_category_route') }}" style="margin-top: 20px;">
        <div class="form-group">
            <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:</label>
            <input type="text" id="name" name="name" required>
        </div>
        
        <div class="form-group">
            <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
            <textarea id="description" name="description" rows="4"></textarea>
        </div>
        
        <button type="submit" class="btn btn-success" style="padding: 10px 20px;">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
    </form>
</div>

<h2 style="margin: 30px 0 20px 0;">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
<div class="card">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–°–æ–∑–¥–∞–Ω–æ</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% if categories %}
                {% for category in categories %}
                    <tr>
                        <td>#{{ category['id'] }}</td>
                        <td>{{ category['name'] }}</td>
                        <td>{{ category['description'] or '-' }}</td>
                        <td>{{ category['created_at'][:10] }}</td>
                        <td>
                            <form method="POST" action="{{ url_for('delete_category_route', category_id=category['id']) }}" style="display: inline;">
                                <button type="submit" class="btn btn-danger" style="padding: 5px 10px;" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã?')">–£–¥–∞–ª–∏—Ç—å</button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="5" style="text-align: center; padding: 40px;">–ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π</td>
                </tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}
